---
interface Props {
  chapters: {
    depth: number;
    title: string;
    href: string;
  }[];
}

const { chapters } = Astro.props;
---

<aside
    class="hidden lg:block sticky h-auto p-4 bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700 z-40 max-h-[75vh] overflow-y-auto top-[calc(55px+5rem)] border-gray-200">
  <h2 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">Table of Contents</h2>
  <ul class="list-none p-0 m-0">
    {
      chapters.map((chapter) => (
        <li style={`--depth: ${chapter.depth - 2}`} class="mb-2 [padding-left:calc(var(--depth)*1rem)]">
          <a
            href={chapter.href}
            class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200 block py-1 px-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 text-sm"
          >
            {chapter.title}
          </a>
        </li>
      ))
    }
  </ul>
</aside>
